;(function(_, _defineProperty, _keys, _freeze, _nullptr, _instanceOf, _inherit) {function basic_iterator(scope, props) { var  _scope = scope, _props = props, me = this, _i = 0, _l = props.length; _defineProperty(me, 'valueOf', {value:function(){return _i}}); _defineProperty(me, 'scope', {get: function(){return _scope}}); _defineProperty(me, 'prop', {get:function(){return 0 <= _i && _i < _l ? _props[_i] : iter.nullptr}}); _defineProperty(me, 'me', { get: function(){ return 0 <= _i && _i < _l ? me : iter.nullptr }, set: function(v){if(!isNaN(v = +v)) _i = v } }); _defineProperty(me, '$', { get: function(){return _scope[_props[_i]]}, set: function(v){_scope[_props[_i]] = v} });};function lite_iterator(scope, props) { var  _scope = scope, _props = props, me = this, _i = 0, _l = props.length; _defineProperty(me, 'valueOf', {value:function(){return _i}}); _defineProperty(me, 'scope', {get: function(){return _scope}}); _defineProperty(me, 'prop', {get:function(){return 0 <= _i && _i < _l ? _props[_i] : iter.nullptr}}); _defineProperty(me, 'me', { get: function(){ return 0 <= _i && _i < _l ? me : iter.nullptr }, set: function(v){if(!isNaN(v = +v)) _i = v } }); _defineProperty(me, '$', { get: function(){return _scope[_props[_i]]}, set: function(v){_scope[_props[_i]] = v} }); _defineProperty(me, 'first', { get: function() {  _i = 0;  return me; } }); _defineProperty(me, 'last', { get: function() {  _i = _l - 1;  return me; } }); _defineProperty(me, 'next', { get: function() {  ++_i;  return me; } }); _defineProperty(me, 'prev', { get: function() {  --_i;  return me; } }); _defineProperty(me, 'canloop', { get: function() { return _i*_i <= _i*(_l - 1) } }); _defineProperty(me, 'loopnext', { get: function() {  return ++_i < _l; } }); _defineProperty(me, 'loopprev', { get: function() {  return --_i >= 0; } });};_inherit(lite_iterator, basic_iterator);function smart_iterator(scope, props) { var  _scope = scope, _props = props, me = this, _i = 0, _l = props.length, _r = 1, _delta = 1; _defineProperty(me, 'valueOf', {value:function(){return _i}}); _defineProperty(me, 'scope', {get: function(){return _scope}}); _defineProperty(me, 'prop', {get:function(){return 0 <= _i && _i < _l ? _props[_i] : iter.nullptr}}); _defineProperty(me, 'me', { get: function(){ return 0 <= _i && _i < _l ? me : iter.nullptr }, set: function(v){if(!isNaN(v = +v)) _i = v } }); _defineProperty(me, '$', { get: function(){return _scope[_props[_i]]}, set: function(v){_scope[_props[_i]] = v} }); _defineProperty(me, 'first', { get: function() {  _i = 0;  return me; } }); _defineProperty(me, 'last', { get: function() {  _i = _l - 1;  return me; } }); _defineProperty(me, 'next', { get: function() {  _i += _r * _delta;  return me; } }); _defineProperty(me, 'prev', { get: function() {  _i -= _r * _delta;  return me; } }); _defineProperty(me, 'canloop', { get: function() { return _i*_i <= _i*(_l - 1) } }); _defineProperty(me, 'loopnext', { get: function() {  return (_i += _r * _delta) < _l; } }); _defineProperty(me, 'loopprev', { get: function() {  return (_i -= _r * _delta) >= 0; } }); _defineProperty(me, 'rev', { get: function() {  _r *= -1;  return me; } }); _defineProperty(me, 'reverse', { get: function() { return function reverse(v) {  if(v === undefined) return _r == -1;  _r = (!!v * -2) + 1;  return me; }}, set: function(v) { me.reverse(v) } }); _defineProperty(me, 'delta', { get: function() { return function delta(v) {  if(isNaN(v = +v)) return _delta;  me.reverse = v;  _delta = _r * v;  return me; }}, set: function(v) { me.delta(v) } }); _defineProperty(me, 'shiftTo', { get: function() { return function shiftTo(v) {  if(!isNaN(v = +v)) _i = v;  return me; }}, set: function (v) { me.shiftTo(v) } }) _defineProperty(me, 'update', { get: function() {  _l = (_props = _keys(_scope)).length;  return me; } }); _defineProperty(me, 'remove', { get: function() {  delete _scope[_props[_i]];  _props.splice(_i, 1);  return me; } }); _defineProperty(me, 'pop', { get: function() {  delete _scope[_props[_l - 1]];  _props.splice(_l - 1, 1);  return me; } }); _defineProperty(me, 'push', { get: function() { return function push(prop, v) {  if(prop !== undefined)   _scope[(prop += '')] = v;  me.update;  return me; }} });};_inherit(smart_iterator, lite_iterator);var create_iterator, iter_setTo = { basic: function(){ create_iterator = iter["basic"]; return iter; }, lite : function(){ create_iterator = iter["lite"]; return iter; }, smart: function(){ create_iterator = iter["smart"]; return iter; }};function iter(o) { return create_iterator.call(this, o);};_defineProperty(iter, 'basic', { value: function basic(o) { if(o === undefined || o === null) return iter.nullptr; return new basic_iterator(o, _keys(o));}});iter_setTo.basic();_defineProperty(iter, 'setTo', { value: iter_setTo });_defineProperty(iter, 'lite', { value: function lite(o) { if(o === undefined || o === null) return iter.nullptr; return new lite_iterator(o, _keys(o));}});_defineProperty(iter, 'smart', { value: function smart(o) { if(o === undefined || o === null) return iter.nullptr; return new smart_iterator(o, _keys(o));}});_defineProperty(iter, 'is', { value: function isiter(i) { return _instanceOf(i, basic_iterator);}});_defineProperty(iter, 'length', {value: function length(i) { if(i === undefined || i === null || i === iter.nullptr) return 0; if(_instanceOf(i, lite_iterator)) { var temp = +i,  size = +i.last + 1; i.me = temp; _defineProperty(i, 'length', {value:size, configurable:true, writable:true}); return size; } if(_instanceOf(i, basic_iterator)) { var size = _keys(i.scope).length; _defineProperty(i, 'length', {value:size, configurable:true, writable:true}); return size; } return _keys(i).length;}});_defineProperty(iter, 'nullptr', {value: _nullptr || _freeze(new (function nullptr(){ _defineProperty(this, 'valueOf', {value:function(){return NaN}}); }))});_defineProperty(iter, 'VERSION', {value:'2.0.0'});_defineProperty(_, 'iter', {value:iter,enumerable:true});}).call(this, this, Object.defineProperty, Object.keys, Object.freeze, this.nullptr, function(c, p){ return c instanceof p}, function(c, p){ c.prototype = Object.create(p.prototype) })